<!DOCTYPE html>
<html>
    <head>
        <meta charset="ANSI" lang="en">
        <div class="login login-text">
        <html lang="en">
        <meta charset="ANSI" lang="en">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Register</title>
        <script type = "text/script" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
        <script type = "text/script" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
        <script type = "text/script" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Karla:400,700&display=swap" rel="stylesheet" type="text/css" media="screen">
        <link rel="stylesheet" type="text/css" media="screen" href="https://cdn.materialdesignicons.com/4.8.95/css/materialdesignicons.min.css">
        <link rel="stylesheet" type="text/css" media="screen" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" media="screen" href="modifLogin.css">
</head>
<body>
  <main>
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-6 login-section-wrapper">
          <div class="login-wrapper my-auto">
            <h1 class="login-title">Register</h1>
              <form action="" method="" id = "form" class = "form" onSubmit="return getInputValue();return false;">
                <div class="form-group">
                <input type="text" id="txt_studentid" name="studentid" class="form-control"placeholder="student id" minlength="11" required="required">
              </div>
              <div class="form-group">
                <input type="text" name="name" id="name" class="form-control" placeholder="name" required="required">
              </div>
              <div class="form-group">
                <input type="email" name="email" id="email" class="form-control" placeholder="email"required="required">
              </div>
              <div class="form-group">
                <input type="password" name="password" id="password" class="form-control" placeholder="passsword" required="required">
                <small id = "pwdWarning1"></small>
              </div>
                <div class="form-group">
                <input type="password" id="txt_repasswd" name="repassword" class="form-control" placeholder="retype password" minlength="8" required="required">
                <small id = "pwdWarning2"></small>
                <small id = "accExisted"></small>
              </div>
              <button class="btn btn-block login-btn" onclick="getInputValue();">Register</button>
            </form>
            <div class="mssg bg-danger">
              <span id="check"></span>
            </div>
            <p class="login-wrapper-footer-text">Already registered? <b><a href="login.html" class="text-reset">Login</a></b></p>
          </div>
        </div>
        <div class="col-sm-6 px-0 d-none d-sm-block">
          <img src="https://www.htmlcsscolor.com/preview/gallery/E1F3FE.png" alt="login image" class="login-img">
        </div>
        </div>
    </div>
  </main>

<script type="text/javascript">
  $(document).ready(function(){
    $("#form").submit(function(event){
      event.preventDefault();
      $.ajax({
        type:'POST',
        url: '/',
        data:$('#form').serialize(),
        dataType: "json",
        success: function(response){
          $('#form')[0].reset();
          document.getElementById(" ").innerHTML=response.Success;
         	setTimeout(function(){
         		document.getElementById("check").innerHTML="";
         	},3000);
         	if (response.Success=="You are regestered,You can login now.") {
         		document.getElementById("aa").click();
         	};
        },
        error:function(){

        }
      })
    });
  });
  function getInputValue(){
            var studentid = document.getElementById("txt_studentid").value;
            var name = document.getElementById("name").value;
            var email = document.getElementById("email").value; 
            var password = document.getElementById("password").value;
            var txt_repasswd = document.getElementById("txt_repasswd").value;

         //  if (studentid == "03082180190" && name == "lingling" && email == "ling2@gmail.com" && password == "lingling40hour" && txt_repasswd == "lingling40hour")
         //  {
         //  $("#accExisted").html("Account already existed.").css('color', 'red');
         // return false;
         //  }
         if (password != txt_repasswd){
            $("#pwdWarning1, #pwdWarning2").html("Passwords do not match!").css('color', 'red');
            return false;
            }
        else{
            return true;
        }
</script>
</body>
</html>
